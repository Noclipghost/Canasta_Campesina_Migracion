{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bedoya\\\\Desktop\\\\Programming learning\\\\Canasta Campesina\\\\frontend\\\\src\\\\components\\\\cart\\\\CartDropdown.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/components/cart/CartDropdown.jsx - CORREGIDO\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useCart } from '../../context/CartContext';\nimport { useAuth } from '../../context/AuthContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CartDropdown = () => {\n  _s();\n  const {\n    cartItems,\n    removeFromCart,\n    getCartTotal,\n    isOpen,\n    setIsOpen\n  } = useCart();\n  const {\n    isAuthenticated\n  } = useAuth();\n  if (!isOpen) return null;\n  const handleRemoveItem = productId => {\n    removeFromCart(productId);\n  };\n  const handleCloseCart = () => {\n    setIsOpen(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-overlay\",\n      onClick: handleCloseCart\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-dropdown\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Mi Carrito\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-cart-btn\",\n          onClick: handleCloseCart,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-times\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-content\",\n        children: cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-cart-dropdown\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-shopping-cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Tu carrito est\\xE1 vac\\xEDo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/productos\",\n            className: \"btn btn-primary\",\n            onClick: handleCloseCart,\n            children: \"Ver Productos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-items-dropdown\",\n            children: cartItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-item-dropdown\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-image-small\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.image || '/images/placeholder.jpg',\n                  alt: item.name,\n                  onError: e => {\n                    e.target.src = '/images/placeholder.jpg';\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 51,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-details-small\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"item-price-small\",\n                  children: [\"$\", item.price.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"item-quantity-small\",\n                  children: [\"Cantidad: \", item.quantity]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"remove-item-btn\",\n                onClick: () => handleRemoveItem(item._id),\n                title: \"Eliminar producto\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-trash\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 21\n              }, this)]\n            }, item._id || `dropdown-item-${item.name}-${Math.random()}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-summary-dropdown\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"total-line\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"Total: $\", getCartTotal().toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-actions\",\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: \"/carrito\",\n                className: \"btn btn-primary btn-full\",\n                onClick: handleCloseCart,\n                children: \"Ver Carrito Completo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 19\n              }, this), isAuthenticated() && /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/carrito\",\n                className: \"btn btn-secondary btn-full\",\n                onClick: handleCloseCart,\n                children: \"Proceder al Pago\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(CartDropdown, \"prYR/jGhPB4nvD3++74eKwXzpT4=\", false, function () {\n  return [useCart, useAuth];\n});\n_c = CartDropdown;\nexport default CartDropdown;\nvar _c;\n$RefreshReg$(_c, \"CartDropdown\");","map":{"version":3,"names":["React","Link","useCart","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","CartDropdown","_s","cartItems","removeFromCart","getCartTotal","isOpen","setIsOpen","isAuthenticated","handleRemoveItem","productId","handleCloseCart","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","length","to","map","item","src","image","alt","name","onError","e","target","price","toFixed","quantity","_id","title","Math","random","_c","$RefreshReg$"],"sources":["C:/Users/Bedoya/Desktop/Programming learning/Canasta Campesina/frontend/src/components/cart/CartDropdown.jsx"],"sourcesContent":["// frontend/src/components/cart/CartDropdown.jsx - CORREGIDO\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useCart } from '../../context/CartContext';\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nconst CartDropdown = () => {\r\n  const { cartItems, removeFromCart, getCartTotal, isOpen, setIsOpen } = useCart();\r\n  const { isAuthenticated } = useAuth();\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleRemoveItem = (productId) => {\r\n    removeFromCart(productId);\r\n  };\r\n\r\n  const handleCloseCart = () => {\r\n    setIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"cart-overlay\" onClick={handleCloseCart}></div>\r\n      \r\n      <div className=\"cart-dropdown\">\r\n        <div className=\"cart-header\">\r\n          <h3>Mi Carrito</h3>\r\n          <button className=\"close-cart-btn\" onClick={handleCloseCart}>\r\n            <i className=\"fas fa-times\"></i>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"cart-content\">\r\n          {cartItems.length === 0 ? (\r\n            <div className=\"empty-cart-dropdown\">\r\n              <i className=\"fas fa-shopping-cart\"></i>\r\n              <p>Tu carrito está vacío</p>\r\n              <Link to=\"/productos\" className=\"btn btn-primary\" onClick={handleCloseCart}>\r\n                Ver Productos\r\n              </Link>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <div className=\"cart-items-dropdown\">\r\n                {cartItems.map(item => (\r\n                  <div \r\n                    key={item._id || `dropdown-item-${item.name}-${Math.random()}`} \r\n                    className=\"cart-item-dropdown\"\r\n                  >\r\n                    <div className=\"item-image-small\">\r\n                      <img \r\n                        src={item.image || '/images/placeholder.jpg'} \r\n                        alt={item.name}\r\n                        onError={(e) => {\r\n                          e.target.src = '/images/placeholder.jpg';\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"item-details-small\">\r\n                      <h5>{item.name}</h5>\r\n                      <p className=\"item-price-small\">${item.price.toFixed(2)}</p>\r\n                      <p className=\"item-quantity-small\">Cantidad: {item.quantity}</p>\r\n                    </div>\r\n                    \r\n                    <button \r\n                      className=\"remove-item-btn\"\r\n                      onClick={() => handleRemoveItem(item._id)}\r\n                      title=\"Eliminar producto\"\r\n                    >\r\n                      <i className=\"fas fa-trash\"></i>\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              <div className=\"cart-summary-dropdown\">\r\n                <div className=\"total-line\">\r\n                  <strong>Total: ${getCartTotal().toFixed(2)}</strong>\r\n                </div>\r\n                \r\n                <div className=\"cart-actions\">\r\n                  <Link \r\n                    to=\"/carrito\" \r\n                    className=\"btn btn-primary btn-full\"\r\n                    onClick={handleCloseCart}\r\n                  >\r\n                    Ver Carrito Completo\r\n                  </Link>\r\n                  \r\n                  {isAuthenticated() && (\r\n                    <Link \r\n                      to=\"/carrito\" \r\n                      className=\"btn btn-secondary btn-full\"\r\n                      onClick={handleCloseCart}\r\n                    >\r\n                      Proceder al Pago\r\n                    </Link>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CartDropdown;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}